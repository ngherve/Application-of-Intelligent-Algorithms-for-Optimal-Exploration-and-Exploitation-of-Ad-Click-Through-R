package honours.smartads_agent.models;

import java.util.ArrayList;

/**
 * 
 */

/**
 * @author HERVE NG
 * User Class
 */
public class User implements Comparable<User>{
	
	//instance global variables
	private String userName;
	private int numChoices;
	private String userID;
	private ArrayList<ItemAds> adItems;
	private String name = "";

	/**
	 * User Constructor
	 * @param username
	 * @param number choices
	 * @param user ID
	 * 
	 */
	public User(String userName, int numChoices, String userID, ArrayList<ItemAds> items) {
		this.userName = userName;
		this.userID = userID;
		this.numChoices = numChoices;
		this.adItems = items;
	}

	/**
	 * @return the adItems
	 */
	public ArrayList<ItemAds> getAdItems() {
		return adItems;
	}

	/**
	 * @param adItems the adItems to set
	 */
	public void setAdItems(ArrayList<ItemAds> adItems) {
		this.adItems = adItems;
	}

	/**
	 * @return the userName
	 */
	public String getUserName() {
		return userName;
	}

	/**
	 * @param userName the userName to set
	 */
	public void setUserName(String userName) {
		this.userName = userName;
	}

	/**
	 * @return the numChoices
	 */
	public int getNumChoices() {
		return numChoices;
	}

	/**
	 * @param numChoices the numChoices to set
	 */
	public void setNumChoices(int numChoices) {
		this.numChoices = numChoices;
	}

	/**
	 * @return the userID
	 */
	public String getUserID() {
		return userID;
	}

	/**
	 * @param userID the userID to set
	 */
	public void setUserID(String userID) {
		this.userID = userID;
	}

	@Override
	public String toString() {
		String display = "[";
		this.name = "";
		for (ItemAds ad : this.getAdItems()) {
			if(ad.getSelIndex()==1)
			{
				this.name += ad.getAdName() + ", ";
			}
			display += (ad.getSelIndex() + "  ");
		}
		display += ("]");
		return display;
	}
	
	public String QueryRecords() {
		String info = "";
		info = "Name: " + userName +"\n" +
			   "Record: " + this.toString() + "\n" +
			   "Number of Ad Items: " + numChoices +" (" + this.name + ")\n" +
			   "User ID: " + userID +"\n";
		return info;
	}
	
	@Override
	public int compareTo(User usr) {
		// TODO Auto-generated method stub
		return String.valueOf(this.getUserID()).
				compareTo(String.valueOf(usr.getUserID()));
	}
	
	/**
	 * Removing a user from the list
	 * @param name
	 */
	public void removeAds(int id) {
		for (ItemAds it : adItems) {
			if(it.getIdValue().equals(id)) {
				adItems.remove(it);
			}
		}
	}
	
}
